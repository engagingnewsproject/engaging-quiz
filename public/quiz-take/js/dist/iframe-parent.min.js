function receiveEnpIframeMessage(e){if(!/dev/.test(e.origin)&&!/engagingnewsproject/.test(e.origin))return!1;if(console.log(e.data),"string"!=typeof e.data)return pollEnpQuizzes(),!1;if(data=JSON.parse(e.data),console.log("the data height is "+data.height),/([0-9])px/.test(data.height)){var t=document.getElementById("enp-quiz-iframe-"+data.quiz_id);sessionStorage.setItem("enp-quiz-iframe-"+data.quiz_id+"-height",data.height),t.style.height=data.height,console.log("height received")}}function onLoadEnpIframe(){addEnpIframeStyles(),pollEnpQuizzes()}function pollEnpQuizzes(){var e=document.getElementsByClassName("enp-quiz-iframe");for(i=0;i<e.length;++i)quiz=e[i],iframeHeight=sessionStorage.getItem(quiz.id+"-height"),console.log(iframeHeight),/([0-9])px/.test(iframeHeight)?quiz.style.height=iframeHeight:(console.log("sending request"),quiz.contentWindow.postMessage("Parent page loaded.","*"))}function addEnpIframeStyles(){var e=".enp-quiz-iframe { -webkit-transition: all .4s ease-in-out;transition: all .4s ease-in-out; }",t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t.appendChild(a)}function setTimeoutLoadCheck(){alreadyrunflag||onLoadEnpIframe()}window.addEventListener("message",receiveEnpIframeMessage,!1);var alreadyrunflag=0;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){alreadyrunflag=1,onLoadEnpIframe()},!1);else if(document.all&&!window.opera){document.open(),document.write('<script type="text/javascript" id="contentloadtag" defer="defer" src="javascript:void(0)"></script>'),document.close();var contentloadtag=document.getElementById("contentloadtag");contentloadtag.onreadystatechange=function(){"complete"==this.readyState&&(alreadyrunflag=1,onLoadEnpIframe())}}window.onload=function(){setTimeout(setTimeoutLoadCheck,0)};