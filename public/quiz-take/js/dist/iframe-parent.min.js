function receiveEnpIframeMessage(e){var t,n;return!!/https?:\/\/(?:dev\b(?!.)|local\.quiz\b(?!.)|(?:(?:local|dev|test)\.)?engagingnewsproject\.org)/.test(e.origin)&&("string"==typeof e.data&&(data=JSON.parse(e.data),n="0"===data.ab_test_id?"enp-quiz-iframe-"+data.quiz_id:"enp-ab-test-iframe-"+data.ab_test_id,t=document.getElementById(n),void("setHeight"===data.action?setEnpQuizHeight(t,data.height):"scrollToQuiz"===data.action||"quizRestarted"===data.action?enpScrollToQuiz(t):"sendURL"===data.action&&sendEnpParentURL())))}function onLoadEnpIframe(){addEnpIframeStyles(),getEnpQuizHeights(),sendEnpParentURL()}function getEnpQuizHeights(){var e,t,n;e=document.getElementsByClassName("enp-quiz-iframe");for(var a=0;a<e.length;++a)t=e[a],n='{"status":"request","action":"sendBodyHeight"}',t.contentWindow.postMessage(n,t.src)}function sendEnpParentURL(){var e,t,n,a;if(n=window.location.href,/https?:\/\/(?:dev\/quiz|(?:(?:local|dev|test)\.)?engagingnewsproject\.org)\/enp-quiz\/quiz-preview\/\d+\b/.test(n))return!1;e=document.getElementsByClassName("enp-quiz-iframe");for(var o=0;o<e.length;++o)t=e[o],a='{"status":"request","action":"setShareURL","parentURL":"'+n+'"}',t.contentWindow.postMessage(a,t.src)}function setEnpQuizHeight(e,t){/([0-9])px/.test(t)&&(e.style.height=t)}function enpScrollToQuiz(e){var t=e.getBoundingClientRect().top;-20<t&&t<100||scrollBy(0,t-10)}function addEnpIframeStyles(){var e=".enp-quiz-iframe { -webkit-transition: all .25s ease-in-out;transition: all .25s ease-in-out; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}function setTimeoutLoadCheck(){alreadyrunflag||onLoadEnpIframe()}window.addEventListener("message",receiveEnpIframeMessage,!1);var alreadyrunflag=0;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){alreadyrunflag=1,onLoadEnpIframe()},!1);else if(document.all&&!window.opera){document.open(),document.write('<script type="text/javascript" id="contentloadtag" defer="defer" src="javascript:void(0)"></script>'),document.close();var contentloadtag=document.getElementById("contentloadtag");contentloadtag.onreadystatechange=function(){"complete"==this.readyState&&(alreadyrunflag=1,onLoadEnpIframe())}}window.onload=function(){setTimeout(setTimeoutLoadCheck,0)};