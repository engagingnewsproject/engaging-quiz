function receiveEnpIframeMessage(e){var t,o;return!!/https?:\/\/(?:dev\b(?!.)|local\.quiz\b(?!.)|(?:(?:local|dev|test)\.)?engagingnewsproject\.org)/.test(e.origin)&&("string"==typeof e.data&&(data=JSON.parse(e.data),console.log(data),o="0"===data.ab_test_id?"enp-quiz-iframe-"+data.quiz_id:"enp-ab-test-iframe-"+data.ab_test_id,t=document.getElementById(o),void("setHeight"===data.action?setEnpQuizHeight(t,data.height):"scrollToQuiz"===data.action||"quizRestarted"===data.action?enpScrollToQuiz(t):"sendURL"===data.action&&sendEnpParentURL())))}function onLoadEnpIframe(){addEnpIframeStyles(),getEnpQuizHeights(),sendEnpParentURL()}function getEnpQuizHeights(){var e,t,o;e=document.getElementsByClassName("enp-quiz-iframe");for(var n=0;n<e.length;++n)t=e[n],o='{"status":"request","action":"sendBodyHeight"}',t.contentWindow.postMessage(o,t.src)}function sendEnpParentURL(){var e,t,o,n;if(o=window.location.href,/https?:\/\/(?:dev\/quiz|(?:(?:local|dev|test)\.)?engagingnewsproject\.org)\/enp-quiz\/quiz-preview\/\d+\b/.test(o))return!1;e=document.getElementsByClassName("enp-quiz-iframe");for(var a=0;a<e.length;++a)t=e[a],n='{"status":"request","action":"setShareURL","parentURL":"'+o+'"}',t.contentWindow.postMessage(n,t.src)}function setEnpQuizHeight(e,t){/([0-9])px/.test(t)&&(e.style.height=t)}function enpScrollToQuiz(e){var t=e.getBoundingClientRect().top;-20<t&&t<100||scrollBy(0,t)}function addEnpIframeStyles(){var e=".enp-quiz-iframe { -webkit-transition: all .25s ease-in-out;transition: all .25s ease-in-out; }",t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o)}function setTimeoutLoadCheck(){alreadyrunflag||onLoadEnpIframe()}window.addEventListener("message",receiveEnpIframeMessage,!1);var alreadyrunflag=0;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){alreadyrunflag=1,onLoadEnpIframe()},!1);else if(document.all&&!window.opera){document.open(),document.write('<script type="text/javascript" id="contentloadtag" defer="defer" src="javascript:void(0)"></script>'),document.close();var contentloadtag=document.getElementById("contentloadtag");contentloadtag.onreadystatechange=function(){"complete"==this.readyState&&(alreadyrunflag=1,onLoadEnpIframe())}}window.onload=function(){setTimeout(setTimeoutLoadCheck,0)},function(e,t,o){"use strict";function n(){function n(e,t){this.scrollLeft=e,this.scrollTop=t}function a(e){return.5*(1-Math.cos(Math.PI*e))}function r(e){if("object"!=typeof e||null===e||e.behavior===o||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior not valid")}function l(o){var n,a,r;do o=o.parentNode,n=o===t.body,a=o.clientHeight<o.scrollHeight||o.clientWidth<o.scrollWidth,r="visible"===e.getComputedStyle(o,null).overflow;while(!n&&(!a||r));return n=a=r=null,o}function i(t){t.frame=e.requestAnimationFrame(i.bind(e,t));var o,n,r,l=f(),s=(l-t.startTime)/d;if(s=s>1?1:s,o=a(s),n=t.startX+(t.x-t.startX)*o,r=t.startY+(t.y-t.startY)*o,t.method.call(t.scrollable,n,r),n===t.x&&r===t.y)return void e.cancelAnimationFrame(t.frame)}function s(o,a,r){var l,s,c,d,p,m=f();o===t.body?(l=e,s=e.scrollX||e.pageXOffset,c=e.scrollY||e.pageYOffset,d=u.scroll):(l=o,s=o.scrollLeft,c=o.scrollTop,d=n),p&&e.cancelAnimationFrame(p),i({scrollable:l,method:d,startTime:m,startX:s,startY:c,x:a,y:r,frame:p})}if(!("scrollBehavior"in t.documentElement.style)){var c=e.HTMLElement||e.Element,d=468,u={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,scrollIntoView:c.prototype.scrollIntoView},f=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;e.scroll=e.scrollTo=function(){return r(arguments[0])?void u.scroll.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):void s.call(e,t.body,~~arguments[0].left,~~arguments[0].top)},e.scrollBy=function(){return r(arguments[0])?void u.scrollBy.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):void s.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))},c.prototype.scrollIntoView=function(){if(r(arguments[0]))return void u.scrollIntoView.call(this,arguments[0]||!0);var o=l(this),n=o.getBoundingClientRect(),a=this.getBoundingClientRect();o!==t.body?(s.call(this,o,o.scrollLeft+a.left-n.left,o.scrollTop+a.top-n.top),e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}}}"object"==typeof exports?module.exports={polyfill:n}:n()}(window,document);