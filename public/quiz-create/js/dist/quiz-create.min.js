jQuery(document).ready(function(d){function c(e){return d("#enp-question--"+e+"__accordion-container")}function m(n){return d(".enp-question-content").each(function(e){if(parseInt(d(".enp-question-id",this).val())===parseInt(n))return questionIndex=e,!1}),questionIndex}function n(e){return parseInt(d(".enp-question-id",e).val())}function q(e,n){for(var i in n)if(parseInt(n[i].question_id)===parseInt(e))for(var t in n[i].mc_option)if("insert"===n[i].mc_option[t].action)return n[i].mc_option[t];return!1}function g(e,n){for(var i in n)if(parseInt(n[i].question_id)===parseInt(e))return n[i];return!1}function p(e){return'<div class="spinner '+e+'"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'}function i(e){var n;n={title:t(d(".enp-question-title__textarea",e).val()),content:e,baseID:e.attr("id"),container:!0},n=enp_accordion__create_headers(n),enp_accordion__setup(n)}function t(e){return void 0===e||""===e?e="Question":200<e.length&&(e=e.slice(0,200),e+="â€¦"),e}function r(e,n,i){a(e,n,i),e.children&&function e(n,i,t){var o;for(var s=0;s<n.length;s++)a(o=n[s],i,t),o.children&&e(o.children,i,t)}(e.children,n,i)}function a(e,n,i){for(var t,o=0,s=e.attributes,r=s.length;o<r;o++)t=s[o],newAttrVal=t.nodeValue.replace(n,i),newAttrVal!==t.nodeValue&&("value"===t.nodeName?d(e).val(newAttrVal):e.setAttribute(t.nodeName,newAttrVal))}function o(e){tinymce.init({selector:"#enp-question-explanation__"+e,menubar:!1,statusbar:!1,plugins:"quickbars link",toolbar:"bold italic link blockquote",quickbars_selection_toolbar:"bold italic link blockquote",quickbars_insert_toolbar:!1,quickbars_image_toolbar:!1})}function h(e){var n=e.question;d(n).each(function(e){o(this.question_id)})}_.middleNumber=function(e,n){return(e+n)/2},_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var s=_.template(d("#question_template").html()),v=_.template(d("#question_image_template").html()),f=_.template(d("#question_image_upload_button_template").html()),I=_.template(d("#question_image_upload_template").html()),l=_.template(d("#mc_option_template").html()),u=_.template(d("#slider_template").html()),w=_.template(d("#slider_take_template").html()),D=_.template(d("#slider_take_range_helpers_template").html());d(".enp-question-content").each(function(e){i(d(this)),0===d(".enp-question-image",this).length&&d(".enp-question-image__input",this).after(f())}),d(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input").hide(),d(".enp-slider-options").each(function(){M(d(this))});var e=window.location.href;if(!0===new RegExp("quiz-create/new").test(e)&&d(".enp-quiz-form__save, .enp-btn--next-step").hide(),0!==d(".enp-message__item--error").length){var b=/Question \d+/;d(".enp-message__item--error").each(function(){errorMessage=d(this).text(),found=errorMessage.match(b),null!==found&&(questionNumber=found[0].replace(/Question /,""),questionNumber-=1,questionHeader=d(".enp-question-content:eq("+questionNumber+")").prev(".enp-accordion-header"),questionHeader.hasClass("question-has-error")||questionHeader.addClass("question-has-error"))})}function C(e,n){var i=Math.floor(1e3*Math.random()+1);d(".enp-quiz-message-ajax-container").append('<div class="enp-quiz-message enp-quiz-message--ajax enp-quiz-message--'+n+" enp-container enp-message-"+i+'"><p class="enp-message__list enp-message__list--'+n+'">'+e+"</p></div>"),d(".enp-message-"+i).delay(3500).fadeOut(function(){d(".enp-message-"+i).fadeOut()})}function x(){d(".enp-question-content").each(function(e){!function(e,n){var i=d("#enp-question--"+e),t=d(".enp-question-order",i),o=t.val();if(parseInt(o)!==n){console.log("updating "+e+" from "+o+" to "+n);var s=new RegExp("enp_question\\["+o+"\\]");r(document.getElementById("enp-question--"+e),s,"enp_question["+n+"]"),t.val(n)}}(n(d(this)),e)})}function z(e){d(".enp-mc-option--inputs",e).each(function(e){!function(e,n){var i=d(".enp-mc-option-order",e),t=i.val();if(parseInt(t)!==n){var o=new RegExp("\\]\\[mc_option\\]\\["+t+"\\]\\[");r(document.getElementById(e.attr("id")),o,"][mc_option]["+n+"]["),i.val(n)}}(d(this),e)})}function A(){var e;templateParams={question_id:"newQuestionTemplateID",question_position:"newQuestionPosition"},d(".enp-quiz-create__questions").append(s(templateParams)),newQuestion=d("#enp-question--newQuestionTemplateID"),questionImageUpload=I(templateParams),d(".enp-question-image__input",newQuestion).after(questionImageUpload),d(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input",newQuestion).hide(),d(".enp-question-image__input",newQuestion).after(f()),P("newQuestionTemplateID"),e="newQuestionTemplateID",temp_slider=u({question_id:e,question_position:"newQuestionPosition",slider_id:"newSliderID",slider_range_low:"0",slider_range_high:"10",slider_correct_low:"5",slider_correct_high:"5",slider_increment:"1",slider_prefix:"",slider_suffix:""}),d(temp_slider).appendTo("#enp-question--"+e+" .enp-question"),i(d("#enp-question--newQuestionTemplateID")),d("#enp-question--newQuestionTemplateID__accordion-header").focus()}function R(e,n,i){var t,o;r(document.getElementById("enp-question--newQuestionTemplateID__accordion-container"),/newQuestionTemplateID/,e),r(document.getElementById("enp-question--"+e),/newQuestionPosition/,m(e)),O(n,e),t=i,o=e,new_slider_el=document.querySelector("#enp-question--"+o+" .enp-slider-options"),r(new_slider_el,/newQuestionPosition/,m(o)),r(new_slider_el,/newSliderID/,t),M("#enp-question--"+o+" .enp-slider-options")}function y(e){var n;n=d("#enp-mc-option--"+e).closest(".enp-question-content"),d("#enp-mc-option--"+e).remove(),z(n)}function P(e){temp_mc_option=l({question_id:e,question_position:"newQuestionPosition",mc_option_id:"newMCOptionID",mc_option_position:"newMCOptionPosition"}),d("#enp-question--"+e+" .enp-mc-option--add").before(temp_mc_option),d("#enp-question--"+e+" .enp-mc-option--inputs:last .enp-mc-option__input").focus()}function O(e,n){new_mcOption_el=document.querySelector("#enp-question--"+n+" #enp-mc-option--newMCOptionID"),r(new_mcOption_el,/newQuestionPosition/,m(n)),new_mc_option_index=d("#enp-question--"+n+" .enp-mc-option--inputs").length-1,r(new_mcOption_el,/newMCOptionPosition/,new_mc_option_index),r(new_mcOption_el,/newMCOptionID/,e)}function Q(e,n){low=e.slider("option","min"),high=e.slider("option","max"),interval=e.slider("option","step"),sliderValue=F(low,high,interval),e.slider("value",sliderValue),n.val(sliderValue)}function F(e,n,i){return e=parseFloat(e),n=parseFloat(n),i=parseFloat(i),totalIntervals=(n-e)/i,middleInterval=totalIntervals/2*i+e,remainder=middleInterval%i,middleInterval-=remainder,middleInterval}function k(e,n){return e.closest(".enp-slider-options").find(n)}function T(e){var n,i;n=V(e),i=d(".enp-slider-correct-low__input",n),S(e),d(".enp-slider-correct-answer-range",n).removeClass("enp-slider-correct-answer-range--remove-range").addClass("enp-slider-correct-answer-range--add-range").html('<svg class="enp-icon enp-slider-correct-answer-range__icon"><use xlink:href="#icon-add"><title>Add</title></use></svg> Answer Range'),lowCorrectVal=i.val(),d(".enp-slider-correct-high__input",n).val(lowCorrectVal),i.data("correctRangeInUse",!1)}function S(e){var n;n=V(e),d(".enp-slider-correct__helper",n).addClass("enp-slider-correct__helper--hidden").text(""),d(".enp-slider-correct-high__input-container",n).addClass("enp-slider-correct-high__input-container--hidden"),d(".enp-slider-correct-low__label",n).text("Slider Answer")}function E(e){var n,i,t;n=V(e),i=d(".enp-slider-correct-low__input",n),t=d(".enp-slider-correct-high__input",n),d(".enp-slider-correct-low__label",n).text("Slider Answer Low"),d(".enp-slider-correct__helper",n).removeClass("enp-slider-correct__helper--hidden").text("to"),d(".enp-slider-correct-high__input-container",n).removeClass("enp-slider-correct-high__input-container--hidden"),d(".enp-slider-correct-answer-range",n).removeClass("enp-slider-correct-answer-range--add-range").addClass("enp-slider-correct-answer-range--remove-range").html('<svg class="enp-icon enp-slider-correct-answer-range__icon"><use xlink:href="#icon-close"><title>Remove Answer Range</title></use></svg>'),highCorrectVal=parseFloat(t.val()),lowCorrectVal=parseFloat(i.val()),increment=parseFloat(d(".enp-slider-increment__input",n).val()),highCorrectVal<=lowCorrectVal&&t.val(lowCorrectVal+increment),t.focus(),i.data("correctRangeInUse",!0)}function V(e){var n;return d(".enp-slider-options").each(function(){if(d(this).data("sliderID")===e)return n=d(this),!1}),n}function M(e){var n,i,t,o,s,r;sliderID=d(".enp-slider-id",e).val(),d(e).data("sliderID",sliderID),t=d(".enp-slider-id",n=e).val(),o=parseFloat(d(".enp-slider-range-low__input",n).val()),s=parseFloat(d(".enp-slider-range-high__input",n).val()),r=parseFloat(d(".enp-slider-increment__input",n).val()),i={slider_id:t,slider_range_low:o,slider_range_high:s,slider_start:F(o,s,r),slider_increment:r,slider_prefix:d(".enp-slider-prefix__input",n).val(),slider_suffix:d(".enp-slider-suffix__input",n).val(),slider_input_size:d(".enp-slider-range-high__input",n).val().length},slider=w(i),sliderExample=d('<div class="enp-slider-preview"></div>').html(slider),d(sliderExample).prependTo(n),d(".enp-slider__label",n).after('<label for="enp-slider-input__'+t+'" class="enp-label enp-label--slider-preview">Slider Preview</label>'),d(".enp-slider__label",n).remove(),N(d(".enp-slider-input__input",n),i),lowCorrectInput=d(".enp-slider-correct-low__input",e),highCorrectInput=d(".enp-slider-correct-high__input",e),lowCorrectInput.data("highCorrectInput",highCorrectInput),highCorrectInput.data("lowCorrectInput",lowCorrectInput),correctLow=parseFloat(lowCorrectInput.val()),correctHigh=parseFloat(highCorrectInput.val()),lowCorrectInput.is("[readonly]")?correctLow===correctHigh&&S(sliderID):(d(".enp-slider-correct-high__container",e).append('<button class="enp-slider-correct-answer-range" type="button"></button>'),correctLow===correctHigh?T(sliderID):E(sliderID)),d("input, button",e).each(function(){d(this).data("sliderID",sliderID)}),accordion={title:"Advanced Slider Options",content:d(".enp-slider-advanced-options__content",e),baseID:sliderID},accordion=enp_accordion__create_headers(accordion),enp_accordion__setup(accordion)}function H(e,n,i){if(void 0===i.responseJSON)return L(),C("Something went wrong. Please reload the page and try again.","error"),!1;if(e=d.parseJSON(i.responseJSON),userActionAction=e.user_action.action,userActionElement=e.user_action.element,"success"===e.status&&"insert"===e.action){!function(e){d("#enp-quiz-id").val(e.quiz_id);var n=d("body").innerHTML,i=d(".enp-quiz-title__textarea").val();i="Quiz: "+i;var t=quizCreate.quiz_create_url+e.quiz_id;h(e),window.history.pushState({html:n,pageTitle:i},"",t)}(e);d(".enp-quiz-form__save").show().addClass("enp-quiz-form__save--reveal"),d(".enp-btn--next-step").show().addClass("enp-btn--next-step--reveal"),d(".enp-quiz-breadcrumbs__link--preview").removeClass("enp-quiz-breadcrumbs__link--disabled")}if("add"==userActionAction&&"question"==userActionElement){var t=function(e){for(var n in e)if("insert"===e[n].action)return e[n];return!1}(e.question);!1!==t&&void 0!==t.question_id&&0<parseInt(t.question_id)?(new_questionID=t.question_id,new_mcOption=q(new_questionID,e.question),new_sliderID=t.slider.slider_id,R(new_questionID,new_mcOption.mc_option_id,new_sliderID),h(e)):(d("#enp-question--newQuestionTemplateID__accordion-header").remove(),d("#enp-question--newQuestionTemplateID").remove(),C("Question could not be added. Please reload the page and try again.","error"))}else if("delete"==userActionAction&&"question"==userActionElement)questionID=e.user_action.details.question_id,questionResponse=g(questionID,e.question),console.log(questionResponse),!1!==questionResponse&&"update"===questionResponse.action&&"success"===questionResponse.status?(c(questionID).remove(),x()):(c(questionID).removeClass("enp-question--remove"),C("Question could not be deleted. Please reload the page and try again.","error"));else if("delete"==userActionAction&&"mc_option"==userActionElement){var o=e.user_action.details.mc_option_id;mcOptionResponse=function(e,n){for(var i in n)for(var t in n[i].mc_option)if(parseInt(n[i].mc_option[t].mc_option_id)===parseInt(e))return n[i].mc_option[t];return!1}(o,e.question),!1!==mcOptionResponse&&"update"===mcOptionResponse.action&&"success"===mcOptionResponse.status?y(o):((p=d("#enp-mc-option--"+o)).removeClass("enp-mc-option--remove"),d(".enp-mc-option__button--delete",p).focus(),C("Multiple Choice Option could not be deleted. Please reload the page and try again.","error"))}else if("add"==userActionAction&&"mc_option"==userActionElement){questionID=e.user_action.details.question_id;var s=q(questionID,e.question);!1!==s&&void 0!==s.mc_option_id&&0<parseInt(s.mc_option_id)?O(s.mc_option_id,questionID):(u=questionID,d("#enp-question--"+u+" #enp-mc-option--newMCOptionID").remove(),C("Multiple Choice Option could not be added. Please reload the page and try again.","error"))}else"set_correct"==userActionAction&&"mc_option"==userActionElement?function(e,n){if(d("#enp-mc-option--"+e).hasClass("enp-mc-option--correct"))return d("#enp-mc-option--"+e).removeClass("enp-mc-option--correct");d("#enp-question--"+n+" .enp-mc-option").removeClass("enp-mc-option--correct"),d("#enp-mc-option--"+e).addClass("enp-mc-option--correct")}(e.user_action.details.mc_option_id,e.user_action.details.question_id):"upload"==userActionAction&&"question_image"==userActionElement?(questionID=e.user_action.details.question_id,questionResponse=g(questionID,e.question),!1!==questionResponse&&"update"===questionResponse.action&&"success"===questionResponse.status?(l=questionResponse,questionID=l.question_id,d("#enp-question--"+questionID+" .enp-question-image-upload").remove(),d("#enp-question--"+questionID+" .enp-question-image-upload__input").remove(),d("#enp-question--"+questionID+" .enp-image-upload-wait").remove(),d("#enp-question--"+questionID+" .enp-question-image__input").val(l.question_image),templateParams={question_id:questionID,question_position:m(questionID)},d("#enp-question--"+questionID+" .enp-question-image__input").after(v(templateParams)),imageFile=l.question_image,imageFile=imageFile.replace(/-original/g,"580w"),imageURL=quizCreate.quiz_image_url+d("#enp-quiz-id").val()+"/"+questionID+"/"+imageFile,d("#enp-question--"+questionID+" .enp-question-image__container").prepend('<img class="enp-question-image enp-question-image" src="'+imageURL+'" alt="'+l.question_image_alt+'"/>')):temp_unsetAddQuestionImage(questionID)):"delete"==userActionAction&&"question_image"==userActionElement&&(questionID=e.user_action.details.question_id,questionResponse=g(questionID,e.question),!1!==questionResponse&&"update"===questionResponse.action&&"success"===questionResponse.status?(a=questionResponse,questionID=a.question_id,a=d("#enp-question--"+questionID),d(".enp-question-image__container",a).remove(),d(".enp-question-image__input",a).val(""),templateParams={question_id:questionID,question_position:m(questionID)},d(".enp-question-image__input",a).after(I(templateParams)),d(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input",a).hide(),d(".enp-question-image__input",a).after(f()),d(".enp-question-image-upload",a).focus()):(r=questionID,d("#enp-question--"+r+" .enp-question-image__container").removeClass("enp-question__image--remove"),oldImageFilename=d("#enp-question-image-"+r).data("image_filename"),d("#enp-question-image-"+r).val(oldImageFilename),C("Image could not be deleted. Please reload the page and try again.","error")));var r,a,l,u,p;!function(e){void 0!==e.success&&0<e.success.length&&C(e.success[0],"success");for(var n=0;n<e.error.length;n++)C(e.error[n],"error")}(e.message),d(".enp-quiz-message--error").length&&(d(".enp-quiz-message--error").remove(),d(".enp-accordion-header").removeClass("question-has-error"))}function L(){d(".enp-quiz-submit").removeClass("enp-quiz-submit--wait"),d(".enp-quiz-message--saving").remove()}function N(i,e){slider=d('<div class="enp-slider" aria-hidden="true" role="presentation"></div>'),slider.data("sliderID",e.slider_id),d(i).data("sliderID",e.slider_id),d(slider).slider({range:"min",value:parseFloat(e.slider_start),min:parseFloat(e.slider_range_low),max:parseFloat(e.slider_range_high),step:parseFloat(e.slider_increment),slide:function(e,n){d(i).val(n.value)}}),sliderInputContainer=d(i).parent(),sliderInputContainer.after(slider),sliderTakeRangeHelpers=D({slider_range_low:parseFloat(e.slider_range_low),slider_range_high:parseFloat(e.slider_range_high)}),sliderInputContainer.append(sliderTakeRangeHelpers)}function U(e,n){var i;return d(".enp-slider").each(function(){if(d(this).data("sliderID")===e)return i=d(this),"function"==typeof n&&n(d(this)),!1}),i}d(document).on("focusin",function(e){d(e.target).closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root").length&&e.stopImmediatePropagation()}),$theQuestions=d(".enp-accordion-container"),d.each($theQuestions,function(e){question=n(this),o(question)}),d(document).on("keyup",".enp-question-title__textarea",function(){question_title=t(d(this).val()),d(this).closest(".enp-question-content").prev(".enp-accordion-header").find(".enp-accordion-header__title").text(question_title)}),d(document).on("click",".enp-quiz-breadcrumbs__link--preview, .enp-quiz-breadcrumbs__link--publish",function(e){e.preventDefault(),d(".enp-btn--next-step").trigger("click")}),d("#enp-quiz").append('<section class="enp-quiz-message-ajax-container" aria-live="assertive"></section>'),d(".enp-question__move").remove(),d(".enp-quiz-create__questions").sortable({handle:".enp-accordion-header",placeholder:"enp-sort__placeholder",cancel:""}),d(".enp-quiz-create__questions").on("sortstart",function(e,n){d("body").addClass("ui-sortable--sorting"),d(this).sortable("refreshPositions"),d(n.placeholder).css("height",d(n.item).height())}),d(".enp-quiz-create__questions").on("sortstop",function(e,n){d("body").removeClass("ui-sortable--sorting")}),d(".enp-quiz-create__questions").on("sortupdate",function(e,o){setTimeout(function(){var e=d(o.item).offset().top,n=e+d(o.item).outerHeight(),i=d(window).scrollTop(),t=i+d(window).height();i<n&&e<t||window.scrollTo(0,e-20)},200),x(),d(".enp-quiz-form__save").trigger("click")}),d(document).on("click",".enp-question-image-upload",function(){imageUploadInput=d(this).siblings(".enp-question-image-upload__input"),imageUploadInput.trigger("click")}),d(document).on("change",".enp-question-image-upload__input",function(){imageSubmit=d(this).siblings(".enp-button__question-image-upload"),imageSubmit.trigger("click"),imageSubmit.siblings(".enp-question-image-alt__input").focus()}),d(document).on("blur",".enp-slider-range-low__input",function(){sliderID=d(this).data("sliderID"),slider=U(sliderID),sliderRangeLow=parseFloat(d(this).val()),slider.slider("option","min",sliderRangeLow),sliderInput=d("#enp-slider-input__"+sliderID),sliderInput.attr("min",sliderRangeLow),Q(slider,sliderInput)}),d(document).on("input",".enp-slider-range-low__input",function(){var e;e=d(this).val(),sliderPreview=k(d(this),".enp-slider_input__range-helper__number--low"),sliderPreview.text(e)}),d(document).on("input",".enp-slider-range-high__input",function(){var e;e=d(this).val(),sliderPreview=k(d(this),".enp-slider_input__range-helper__number--high"),sliderPreview.text(e)}),d(document).on("blur",".enp-slider-range-high__input",function(){sliderID=d(this).data("sliderID"),slider=U(sliderID),sliderRangeHigh=parseFloat(d(this).val()),slider.slider("option","max",sliderRangeHigh),sliderInput=d("#enp-slider-input__"+sliderID),sliderInput.attr("max",sliderRangeHigh),Q(slider,sliderInput)}),d(document).on("input",".enp-slider-correct-low__input",function(){!1===d(this).data("correctRangeInUse")&&(highCorrectInput=d(this).data("highCorrectInput"),lowCorrectVal=d(this).val(),highCorrectInput.val(lowCorrectVal))}),d(document).on("blur",".enp-slider-increment__input",function(){sliderID=d(this).data("sliderID"),slider=U(sliderID),sliderIncrement=parseFloat(d(this).val()),slider.slider("option","step",sliderIncrement),sliderInput=d("#enp-slider-input__"+sliderID),sliderInput.attr("step",sliderIncrement),Q(slider,sliderInput)}),d(document).on("input",".enp-slider-prefix__input",function(){var e;e=d(this).val(),sliderPreview=k(d(this),".enp-slider-input__prefix"),sliderPreview.text(e)}),d(document).on("input",".enp-slider-suffix__input",function(){var e;e=d(this).val(),sliderPreview=k(d(this),".enp-slider-input__suffix"),sliderPreview.text(e)}),d(document).on("click",".enp-slider-correct-answer-range",function(){sliderID=d(this).data("sliderID"),d(this).hasClass("enp-slider-correct-answer-range--add-range")?E(sliderID):T(sliderID)}),d(document).on("click",".enp-quiz-submit",function(e){if(tinyMCE.triggerSave(),!d(this).hasClass("enp-btn--next-step")){if(e.preventDefault(),"1"===d("#enp-quiz-new").val()&&""===d(".enp-quiz-title__textarea").val())return d(".enp-quiz-title__textarea").focus(),C("Please enter a title for your quiz.","error"),!1;if(d(this).hasClass("enp-question__button--delete"))if(!1===confirm("Are you sure you want to delete this question?"))return!1;if(d(this).hasClass("enp-quiz-submit--wait"))return!1;d(".enp-quiz-message-ajax-container").append('<div class="enp-quiz-message--saving">'+p("enp-quiz-message--saving__spinner")+'<div class="enp-quiz-message--saving__text">Saving</div></div>'),d(".enp-quiz-submit").addClass("enp-quiz-submit--wait"),function(e){console.log(e);var n=document.getElementById("enp-quiz-create-form"),i=new FormData(n);i.append("enp-quiz-submit",e),i.append("action","save_quiz"),t=e,console.log(t),-1<t.indexOf("add-question")?A():-1<t.indexOf("add-mc-option__question")?(o=/add-mc-option__question-/g,questionID=t.replace(o,""),P(questionID)):-1<t.indexOf("question--delete")?(o=/question--delete-/g,questionID=t.replace(o,""),l=questionID,(u=c(l)).addClass("enp-question--remove"),d("#enp-question--"+l),u.next().find("enp-question-content").focus()):-1<t.indexOf("mc-option--delete")?(o=/mc-option--delete-/g,mcOptionID=t.replace(o,""),r=mcOptionID,(a=d("#enp-mc-option--"+r)).next(".enp-mc-option").find("button:first").focus(),a.addClass("enp-mc-option--remove")):-1<t.indexOf("question-image--upload")?(o=/question-image--upload-/g,questionID=t.replace(o,""),questionID,d("#enp-question--"+questionID+" .enp-question-image-upload").hide(),d("#enp-question--"+questionID+" .enp-question-image-upload").after(p("enp-image-upload-wait"))):-1<t.indexOf("question-image--delete")&&(o=/question-image--delete-/g,questionID=t.replace(o,""),s=questionID,d("#enp-question--"+s+" .enp-question-image__container").addClass("enp-question__image--remove"),imageInput=d("#enp-question-image-"+s),imageFilename=imageInput.val(),imageInput.data("image_filename",imageFilename),imageInput.val("")),tinyMCE.triggerSave(),d(".enp-quiz-message--success").remove(),d.ajax({type:"POST",url:quizCreate.ajax_url,data:i,processData:!1,contentType:!1}).done(H).fail(function(e,n,i){console.log("AJAX failed",e.getAllResponseHeaders(),n,i)}).then(function(e,n,i){}).always(function(){L()});var t,o,s,r,a,l,u}(d(this).val())}}),d(document).on("input",".enp-slider-input__input",function(){var e,n;e=U(d(this).data("sliderID")),n=d(this).val(),e.slider("value",n),sliderVal=e.slider("value")}),d(document).on("blur",".enp-slider-input__input",function(){var e,n,i;input=d(this),e=U(d(this).data("sliderID")),n=input.val(),i=e.slider("value"),parseInt(i)!==parseInt(n)&&(input.val(i),input.addClass("enp-slider-input__input--invalid-animation"),setTimeout(function(){input.removeClass("enp-slider-input__input--invalid-animation")},500))})});