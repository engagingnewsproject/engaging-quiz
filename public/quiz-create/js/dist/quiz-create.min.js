jQuery(document).ready(function(u){function p(e){return u("#enp-question--"+e+"__accordion-container")}function d(n){return u(".enp-question-content").each(function(e){if(parseInt(u(".enp-question-id",this).val())===parseInt(n))return questionIndex=e,!1}),questionIndex}function o(e){return parseInt(u(".enp-question-id",e).val())}function c(e,n){for(var i in n)if(parseInt(n[i].question_id)===parseInt(e))for(var t in n[i].mc_option)if("insert"===n[i].mc_option[t].action)return n[i].mc_option[t];return!1}function m(e,n){for(var i in n)if(parseInt(n[i].question_id)===parseInt(e))return n[i];return!1}function s(e){return'<div class="spinner '+e+'"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'}function n(e){var n=u(".enp-question-title__textarea",e).val(),n={title:i(n),content:e,baseID:e.attr("id"),container:!0};n=enp_accordion__create_headers(n),enp_accordion__setup(n)}function i(e){return void 0===e||""===e?e="Question":200<e.length&&(e=e.slice(0,200),e+="â€¦"),e}function r(e,n,i){a(e,n,i),e.children&&function e(n,i,t){var o;for(var s=0;s<n.length;s++)a(o=n[s],i,t),o.children&&e(o.children,i,t)}(e.children,n,i)}function a(e,n,i){for(var t,o=0,s=e.attributes,r=s.length;o<r;o++)t=s[o],(newAttrVal=t.nodeValue.replace(n,i))!==t.nodeValue&&("value"===t.nodeName?u(e).val(newAttrVal):e.setAttribute(t.nodeName,newAttrVal))}function t(e){var n=u("#enp-question-explanation__"+e);tinymce.init({selector:"#enp-question-explanation__"+e,menubar:!1,statusbar:!1,plugins:"quickbars link autoresize",toolbar:!1,quickbars_selection_toolbar:"bold italic blockquote quicklink removeformat",link_default_target:"_blank",link_context_toolbar:!0,link_title:!1,link_assume_external_targets:"http",link_quicklink:!0,quickbars_insert_toolbar:!1,link_target_list:!1,placeholder:"Your cerebellum can predict your own actions, so you're unable to 'surprise' yourself with a tickle.",setup:function(e){e.on("click",function(){tinymce.activeEditor.execCommand("mceFocus")}),e.on("blur",function(){var e=tinymce.activeEditor.getContent({format:"raw"});n.innerHTML=e})}})}function g(e){e=e.question;u(e).each(function(e){t(this.question_id)})}_.middleNumber=function(e,n){return(e+n)/2},u(".enp-quiz-submit").click(function(e){tinymce.triggerSave(),$theQuestions=u(".enp-accordion-container"),u.each($theQuestions,function(e){obj=o(this),u(this).find("#enp-question-explanation__"+obj);var n=tinymce.activeEditor.getContent({format:"raw"});u(this);tinymce.activeEditor.setContent(n,{format:"raw"}),u("#enp-quiz-create-form").serializeArray()})}),_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var e,l=_.template(u("#question_template").html()),q=_.template(u("#question_image_template").html()),h=_.template(u("#question_image_upload_button_template").html()),v=_.template(u("#question_image_upload_template").html()),f=_.template(u("#mc_option_template").html()),I=_.template(u("#slider_template").html()),w=_.template(u("#slider_take_template").html()),b=_.template(u("#slider_take_range_helpers_template").html()),S=(u(".enp-question-content").each(function(e){n(u(this)),0===u(".enp-question-image",this).length&&u(".enp-question-image__input",this).after(h())}),u(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input").hide(),u(".enp-slider-options").each(function(){F(u(this))}),window.location.href);function D(e,n){var i=Math.floor(1e3*Math.random()+1);u(".enp-quiz-message-ajax-container").append('<div class="enp-quiz-message enp-quiz-message--ajax enp-quiz-message--'+n+" enp-container enp-message-"+i+'"><p class="enp-message__list enp-message__list--'+n+'">'+e+"</p></div>"),u(".enp-message-"+i).delay(3500).fadeOut(function(){u(".enp-message-"+i).fadeOut()})}function C(){u(".enp-question-content").each(function(e){var n,i,t;n=o(u(this)),e=e,i=u("#enp-question--"+n),i=u(".enp-question-order",i),t=i.val(),parseInt(t)!==e&&(console.log("updating "+n+" from "+t+" to "+e),t=new RegExp("enp_question\\["+t+"\\]"),r(document.getElementById("enp-question--"+n),t,"enp_question["+e+"]"),i.val(e))})}function V(e){u(".enp-mc-option--inputs",e).each(function(e){var n,i,t;n=u(this),e=e,i=u(".enp-mc-option-order",n),t=i.val(),parseInt(t)!==e&&(t=new RegExp("\\]\\[mc_option\\]\\["+t+"\\]\\["),r(document.getElementById(n.attr("id")),t,"][mc_option]["+e+"]["),i.val(e))})}function M(){var e;templateParams={question_id:"newQuestionTemplateID",question_position:"newQuestionPosition"},u(".enp-quiz-create__questions").append(l(templateParams)),newQuestion=u("#enp-question--newQuestionTemplateID"),questionImageUpload=v(templateParams),u(".enp-question-image__input",newQuestion).after(questionImageUpload),u(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input",newQuestion).hide(),u(".enp-question-image__input",newQuestion).after(h()),x("newQuestionTemplateID"),temp_slider=I({question_id:e="newQuestionTemplateID",question_position:"newQuestionPosition",slider_id:"newSliderID",slider_range_low:"0",slider_range_high:"10",slider_correct_low:"5",slider_correct_high:"5",slider_increment:"1",slider_prefix:"",slider_suffix:""}),u(temp_slider).appendTo("#enp-question--"+e+" .enp-question"),n(u("#enp-question--newQuestionTemplateID")),u("#enp-question--newQuestionTemplateID__accordion-header").focus()}function H(e,n,i){r(document.getElementById("enp-question--newQuestionTemplateID__accordion-container"),/newQuestionTemplateID/,e),r(document.getElementById("enp-question--"+e),/newQuestionPosition/,d(e)),z(n,e),n=i,i=e,r(new_slider_el=document.querySelector("#enp-question--"+i+" .enp-slider-options"),/newQuestionPosition/,d(i)),r(new_slider_el,/newSliderID/,n),F("#enp-question--"+i+" .enp-slider-options")}function L(e){var n=u("#enp-mc-option--"+e).closest(".enp-question-content");u("#enp-mc-option--"+e).remove(),V(n)}function x(e){temp_mc_option=f({question_id:e,question_position:"newQuestionPosition",mc_option_id:"newMCOptionID",mc_option_position:"newMCOptionPosition"}),u("#enp-question--"+e+" .enp-mc-option--add").before(temp_mc_option),u("#enp-question--"+e+" .enp-mc-option--inputs:last .enp-mc-option__input").focus()}function z(e,n){r(new_mcOption_el=document.querySelector("#enp-question--"+n+" #enp-mc-option--newMCOptionID"),/newQuestionPosition/,d(n)),new_mc_option_index=u("#enp-question--"+n+" .enp-mc-option--inputs").length-1,r(new_mcOption_el,/newMCOptionPosition/,new_mc_option_index),r(new_mcOption_el,/newMCOptionID/,e)}function y(e,n){low=e.slider("option","min"),high=e.slider("option","max"),interval=e.slider("option","step"),sliderValue=A(low,high,interval),e.slider("value",sliderValue),n.val(sliderValue)}function A(e,n,i){return e=parseFloat(e),n=parseFloat(n),i=parseFloat(i),totalIntervals=(n-e)/i,middleInterval=totalIntervals/2*i+e,remainder=middleInterval%i,middleInterval-=remainder}function k(e,n){return e.closest(".enp-slider-options").find(n)}function R(e){var n=P(e),i=u(".enp-slider-correct-low__input",n);Q(e),u(".enp-slider-correct-answer-range",n).removeClass("enp-slider-correct-answer-range--remove-range").addClass("enp-slider-correct-answer-range--add-range").html('<svg class="enp-icon enp-slider-correct-answer-range__icon"><use xlink:href="#icon-add"><title>Add</title></use></svg> Answer Range'),lowCorrectVal=i.val(),u(".enp-slider-correct-high__input",n).val(lowCorrectVal),i.data("correctRangeInUse",!1)}function Q(e){e=P(e);u(".enp-slider-correct__helper",e).addClass("enp-slider-correct__helper--hidden").text(""),u(".enp-slider-correct-high__input-container",e).addClass("enp-slider-correct-high__input-container--hidden"),u(".enp-slider-correct-low__label",e).text("Slider Answer")}function O(e){var e=P(e),n=u(".enp-slider-correct-low__input",e),i=u(".enp-slider-correct-high__input",e);u(".enp-slider-correct-low__label",e).text("Slider Answer Low"),u(".enp-slider-correct__helper",e).removeClass("enp-slider-correct__helper--hidden").text("to"),u(".enp-slider-correct-high__input-container",e).removeClass("enp-slider-correct-high__input-container--hidden"),u(".enp-slider-correct-answer-range",e).removeClass("enp-slider-correct-answer-range--add-range").addClass("enp-slider-correct-answer-range--remove-range").html('<svg class="enp-icon enp-slider-correct-answer-range__icon"><use xlink:href="#icon-close"><title>Remove Answer Range</title></use></svg>'),highCorrectVal=parseFloat(i.val()),lowCorrectVal=parseFloat(n.val()),increment=parseFloat(u(".enp-slider-increment__input",e).val()),highCorrectVal<=lowCorrectVal&&i.val(lowCorrectVal+increment),i.focus(),n.data("correctRangeInUse",!0)}function P(e){var n;return u(".enp-slider-options").each(function(){if(u(this).data("sliderID")===e)return n=u(this),!1}),n}function F(e){var n,i,t,o,s;sliderID=u(".enp-slider-id",e).val(),u(e).data("sliderID",sliderID),i=u(".enp-slider-id",n=e).val(),t=parseFloat(u(".enp-slider-range-low__input",n).val()),o=parseFloat(u(".enp-slider-range-high__input",n).val()),s=parseFloat(u(".enp-slider-increment__input",n).val()),t={slider_id:i,slider_range_low:t,slider_range_high:o,slider_start:A(t,o,s),slider_increment:s,slider_prefix:u(".enp-slider-prefix__input",n).val(),slider_suffix:u(".enp-slider-suffix__input",n).val(),slider_input_size:u(".enp-slider-range-high__input",n).val().length},slider=w(t),sliderExample=u('<div class="enp-slider-preview"></div>').html(slider),u(sliderExample).prependTo(n),u(".enp-slider__label",n).after('<label for="enp-slider-input__'+i+'" class="enp-label enp-label--slider-preview">Slider Preview</label>'),u(".enp-slider__label",n).remove(),N(u(".enp-slider-input__input",n),t),lowCorrectInput=u(".enp-slider-correct-low__input",e),highCorrectInput=u(".enp-slider-correct-high__input",e),lowCorrectInput.data("highCorrectInput",highCorrectInput),highCorrectInput.data("lowCorrectInput",lowCorrectInput),correctLow=parseFloat(lowCorrectInput.val()),correctHigh=parseFloat(highCorrectInput.val()),lowCorrectInput.is("[readonly]")?correctLow===correctHigh&&Q(sliderID):(u(".enp-slider-correct-high__container",e).append('<button class="enp-slider-correct-answer-range" type="button"></button>'),(correctLow===correctHigh?R:O)(sliderID)),u("input, button",e).each(function(){u(this).data("sliderID",sliderID)}),accordion={title:"Advanced Slider Options",content:u(".enp-slider-advanced-options__content",e),baseID:sliderID},accordion=enp_accordion__create_headers(accordion),enp_accordion__setup(accordion)}function j(e,n,i){if(void 0===i.responseJSON)return E(),D("Something went wrong. Please reload the page and try again.","error"),!1;e=u.parseJSON(i.responseJSON),userActionAction=e.user_action.action,userActionElement=e.user_action.element,"success"===e.status&&"insert"===e.action&&(i=e,u("#enp-quiz-id").val(i.quiz_id),t=u("body").innerHTML,r="Quiz: "+(r=u(".enp-quiz-title__textarea").val()),o=quizCreate.quiz_create_url+i.quiz_id,g(i),window.history.pushState({html:t,pageTitle:r},"",o),u(".enp-quiz-form__save").show().addClass("enp-quiz-form__save--reveal"),u(".enp-btn--next-step").show().addClass("enp-btn--next-step--reveal"),u(".enp-quiz-breadcrumbs__link--preview").removeClass("enp-quiz-breadcrumbs__link--disabled")),"add"==userActionAction&&"question"==userActionElement?!1!==(i=function(e){for(var n in e)if("insert"===e[n].action)return e[n];return!1}(e.question))&&void 0!==i.question_id&&0<parseInt(i.question_id)?(new_questionID=i.question_id,new_mcOption=c(new_questionID,e.question),new_sliderID=i.slider.slider_id,H(new_questionID,new_mcOption.mc_option_id,new_sliderID),g(e)):(u("#enp-question--newQuestionTemplateID__accordion-header").remove(),u("#enp-question--newQuestionTemplateID").remove(),D("Question could not be added. Please reload the page and try again.","error")):"delete"==userActionAction&&"question"==userActionElement?(questionID=e.user_action.details.question_id,!1!==(questionResponse=m(questionID,e.question))&&"update"===questionResponse.action&&"success"===questionResponse.status?(p(questionID).remove(),C()):(p(questionID).removeClass("enp-question--remove"),D("Question could not be deleted. Please reload the page and try again.","error"))):"delete"==userActionAction&&"mc_option"==userActionElement?(t=e.user_action.details.mc_option_id,!1!==(mcOptionResponse=function(e,n){for(var i in n)for(var t in n[i].mc_option)if(parseInt(n[i].mc_option[t].mc_option_id)===parseInt(e))return n[i].mc_option[t];return!1}(t,e.question))&&"update"===mcOptionResponse.action&&"success"===mcOptionResponse.status?L(t):((r=u("#enp-mc-option--"+(r=t))).removeClass("enp-mc-option--remove"),u(".enp-mc-option__button--delete",r).focus(),D("Multiple Choice Option could not be deleted. Please reload the page and try again.","error"))):"add"==userActionAction&&"mc_option"==userActionElement?!1!==(o=c(questionID=e.user_action.details.question_id,e.question))&&void 0!==o.mc_option_id&&0<parseInt(o.mc_option_id)?z(o.mc_option_id,questionID):(i=questionID,u("#enp-question--"+i+" #enp-mc-option--newMCOptionID").remove(),D("Multiple Choice Option could not be added. Please reload the page and try again.","error")):"set_correct"==userActionAction&&"mc_option"==userActionElement?(i=e.user_action.details.mc_option_id,s=e.user_action.details.question_id,u("#enp-mc-option--"+i).hasClass("enp-mc-option--correct")?u("#enp-mc-option--"+i).removeClass("enp-mc-option--correct"):(u("#enp-question--"+s+" .enp-mc-option").removeClass("enp-mc-option--correct"),u("#enp-mc-option--"+i).addClass("enp-mc-option--correct"))):"upload"==userActionAction&&"question_image"==userActionElement?(questionID=e.user_action.details.question_id,!1!==(questionResponse=m(questionID,e.question))&&"update"===questionResponse.action&&"success"===questionResponse.status?(s=questionResponse,questionID=s.question_id,u("#enp-question--"+questionID+" .enp-question-image-upload").remove(),u("#enp-question--"+questionID+" .enp-question-image-upload__input").remove(),u("#enp-question--"+questionID+" .enp-image-upload-wait").remove(),u("#enp-question--"+questionID+" .enp-question-image__input").val(s.question_image),templateParams={question_id:questionID,question_position:d(questionID)},u("#enp-question--"+questionID+" .enp-question-image__input").after(q(templateParams)),imageFile=(imageFile=s.question_image).replace(/-original/g,"580w"),imageURL=quizCreate.quiz_image_url+u("#enp-quiz-id").val()+"/"+questionID+"/"+imageFile,u("#enp-question--"+questionID+" .enp-question-image__container").prepend('<img class="enp-question-image enp-question-image" src="'+imageURL+'" alt="'+s.question_image_alt+'"/>')):temp_unsetAddQuestionImage(questionID)):"delete"==userActionAction&&"question_image"==userActionElement&&(questionID=e.user_action.details.question_id,!1!==(questionResponse=m(questionID,e.question))&&"update"===questionResponse.action&&"success"===questionResponse.status?(i=questionResponse,questionID=i.question_id,i=u("#enp-question--"+questionID),u(".enp-question-image__container",i).remove(),u(".enp-question-image__input",i).val(""),templateParams={question_id:questionID,question_position:d(questionID)},u(".enp-question-image__input",i).after(v(templateParams)),u(".enp-image-upload__label, .enp-button__question-image-upload, .enp-question-image-upload__input",i).hide(),u(".enp-question-image__input",i).after(h()),u(".enp-question-image-upload",i).focus()):(i=questionID,u("#enp-question--"+i+" .enp-question-image__container").removeClass("enp-question__image--remove"),oldImageFilename=u("#enp-question-image-"+i).data("image_filename"),u("#enp-question-image-"+i).val(oldImageFilename),D("Image could not be deleted. Please reload the page and try again.","error")));var t,o,s,r,a=e.message;void 0!==a.success&&0<a.success.length&&D(a.success[0],"success");for(var l=0;l<a.error.length;l++)D(a.error[l],"error");u(".enp-quiz-message--error").length&&(u(".enp-quiz-message--error").remove(),u(".enp-accordion-header").removeClass("question-has-error"))}function E(){u(".enp-quiz-submit").removeClass("enp-quiz-submit--wait"),u(".enp-quiz-message--saving").remove()}function N(i,e){(slider=u('<div class="enp-slider" aria-hidden="true" role="presentation"></div>')).data("sliderID",e.slider_id),u(i).data("sliderID",e.slider_id),u(slider).slider({range:"min",value:parseFloat(e.slider_start),min:parseFloat(e.slider_range_low),max:parseFloat(e.slider_range_high),step:parseFloat(e.slider_increment),slide:function(e,n){u(i).val(n.value)}}),(sliderInputContainer=u(i).parent()).after(slider),sliderTakeRangeHelpers=b({slider_range_low:parseFloat(e.slider_range_low),slider_range_high:parseFloat(e.slider_range_high)}),sliderInputContainer.append(sliderTakeRangeHelpers)}function T(e,n){var i;return u(".enp-slider").each(function(){if(u(this).data("sliderID")===e)return i=u(this),"function"==typeof n&&n(u(this)),!1}),i}!0===new RegExp("quiz-create/new").test(S)&&u(".enp-quiz-form__save, .enp-btn--next-step").hide(),0!==u(".enp-message__item--error").length&&(e=/Question \d+/,u(".enp-message__item--error").each(function(){errorMessage=u(this).text(),null!==(found=errorMessage.match(e))&&(questionNumber=found[0].replace(/Question /,""),questionNumber-=1,(questionHeader=u(".enp-question-content:eq("+questionNumber+")").prev(".enp-accordion-header")).hasClass("question-has-error")||questionHeader.addClass("question-has-error"))})),u(document).on("focusin",function(e){u(e.target).closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root").length&&e.stopImmediatePropagation()}),$theQuestions=u(".enp-accordion-container"),u.each($theQuestions,function(e){t(obj=o(this))}),u(document).on("keyup",".enp-question-title__textarea",function(){question_title=i(u(this).val()),u(this).closest(".enp-question-content").prev(".enp-accordion-header").find(".enp-accordion-header__title").text(question_title)}),u(document).on("click",".enp-quiz-breadcrumbs__link--preview, .enp-quiz-breadcrumbs__link--publish",function(e){e.preventDefault(),u(".enp-btn--next-step").trigger("click")}),u("#enp-quiz").append('<section class="enp-quiz-message-ajax-container" aria-live="assertive"></section>'),u(".enp-question__move").remove(),u(".enp-quiz-create__questions").sortable({handle:".enp-accordion-header",placeholder:"enp-sort__placeholder",cancel:""}),u(".enp-quiz-create__questions").on("sortstart",function(e,n){u("body").addClass("ui-sortable--sorting"),u(this).sortable("refreshPositions"),u(n.placeholder).css("height",u(n.item).height())}),u(".enp-quiz-create__questions").on("sortstop",function(e,n){u("body").removeClass("ui-sortable--sorting")}),u(".enp-quiz-create__questions").on("sortupdate",function(e,o){setTimeout(function(){var e=u(o.item).offset().top,n=e+u(o.item).outerHeight(),i=u(window).scrollTop(),t=i+u(window).height();i<n&&e<t||window.scrollTo(0,e-20)},200),C(),u(".enp-quiz-form__save").trigger("click")}),u(document).on("click",".enp-question-image-upload",function(){(imageUploadInput=u(this).siblings(".enp-question-image-upload__input")).trigger("click")}),u(document).on("change",".enp-question-image-upload__input",function(){(imageSubmit=u(this).siblings(".enp-button__question-image-upload")).trigger("click"),imageSubmit.siblings(".enp-question-image-alt__input").focus()}),u(document).on("blur",".enp-slider-range-low__input",function(){sliderID=u(this).data("sliderID"),slider=T(sliderID),sliderRangeLow=parseFloat(u(this).val()),slider.slider("option","min",sliderRangeLow),(sliderInput=u("#enp-slider-input__"+sliderID)).attr("min",sliderRangeLow),y(slider,sliderInput)}),u(document).on("input",".enp-slider-range-low__input",function(){var e=u(this).val();(sliderPreview=k(u(this),".enp-slider_input__range-helper__number--low")).text(e)}),u(document).on("input",".enp-slider-range-high__input",function(){var e=u(this).val();(sliderPreview=k(u(this),".enp-slider_input__range-helper__number--high")).text(e)}),u(document).on("blur",".enp-slider-range-high__input",function(){sliderID=u(this).data("sliderID"),slider=T(sliderID),sliderRangeHigh=parseFloat(u(this).val()),slider.slider("option","max",sliderRangeHigh),(sliderInput=u("#enp-slider-input__"+sliderID)).attr("max",sliderRangeHigh),y(slider,sliderInput)}),u(document).on("input",".enp-slider-correct-low__input",function(){!1===u(this).data("correctRangeInUse")&&(highCorrectInput=u(this).data("highCorrectInput"),lowCorrectVal=u(this).val(),highCorrectInput.val(lowCorrectVal))}),u(document).on("blur",".enp-slider-increment__input",function(){sliderID=u(this).data("sliderID"),slider=T(sliderID),sliderIncrement=parseFloat(u(this).val()),slider.slider("option","step",sliderIncrement),(sliderInput=u("#enp-slider-input__"+sliderID)).attr("step",sliderIncrement),y(slider,sliderInput)}),u(document).on("input",".enp-slider-prefix__input",function(){var e=u(this).val();(sliderPreview=k(u(this),".enp-slider-input__prefix")).text(e)}),u(document).on("input",".enp-slider-suffix__input",function(){var e=u(this).val();(sliderPreview=k(u(this),".enp-slider-input__suffix")).text(e)}),u(document).on("click",".enp-slider-correct-answer-range",function(){sliderID=u(this).data("sliderID"),(u(this).hasClass("enp-slider-correct-answer-range--add-range")?O:R)(sliderID)}),u(document).on("click",".enp-quiz-submit",function(e){if(!u(this).hasClass("enp-btn--next-step")){if(e.preventDefault(),"1"===u("#enp-quiz-new").val()&&""===u(".enp-quiz-title__textarea").val())return u(".enp-quiz-title__textarea").focus(),D("Please enter a title for your quiz.","error"),!1;if(u(this).hasClass("enp-question__button--delete"))if(!1===confirm("Are you sure you want to delete this question?"))return!1;if(u(this).hasClass("enp-quiz-submit--wait"))return!1;u(".enp-quiz-message-ajax-container").append('<div class="enp-quiz-message--saving">'+s("enp-quiz-message--saving__spinner")+'<div class="enp-quiz-message--saving__text">Saving</div></div>'),u(".enp-quiz-submit").addClass("enp-quiz-submit--wait");var n,e=u(this).val();e=e,o=document.getElementById("enp-quiz-create-form"),(o=new FormData(o)).append("enp-quiz-submit",e),o.append("action","save_quiz");if(-1<e.indexOf("add-question"))M();else if(-1<e.indexOf("add-mc-option__question"))n=/add-mc-option__question-/g,x(questionID=e.replace(n,""));else if(-1<e.indexOf("question--delete")){n=/question--delete-/g;{var i=questionID=e.replace(n,"");var t=p(i);t.addClass("enp-question--remove"),u("#enp-question--"+i),t.next().find("enp-question-content").focus()}}else if(-1<e.indexOf("mc-option--delete")){n=/mc-option--delete-/g;{i=mcOptionID=e.replace(n,"");(i=u("#enp-mc-option--"+i)).next(".enp-mc-option").find("button:first").focus(),i.addClass("enp-mc-option--remove")}}else if(-1<e.indexOf("question-image--upload"))n=/question-image--upload-/g,questionID=e.replace(n,""),u("#enp-question--"+questionID+" .enp-question-image-upload").hide(),u("#enp-question--"+questionID+" .enp-question-image-upload").after(s("enp-image-upload-wait"));else if(-1<e.indexOf("question-image--delete")){n=/question-image--delete-/g;{t=questionID=e.replace(n,"");u("#enp-question--"+t+" .enp-question-image__container").addClass("enp-question__image--remove"),imageInput=u("#enp-question-image-"+t),imageFilename=imageInput.val(),imageInput.data("image_filename",imageFilename),imageInput.val("")}}tinyMCE.triggerSave(),u(".enp-quiz-message--success").remove(),u.ajax({type:"POST",url:quizCreate.ajax_url,data:o,processData:!1,contentType:!1}).done(j).fail(function(e,n,i){console.log("AJAX failed",e.getAllResponseHeaders(),n,i)}).then(function(e,n,i){}).always(function(){E()})}var o}),u(document).on("input",".enp-slider-input__input",function(){var e=T(u(this).data("sliderID")),n=u(this).val();e.slider("value",n),sliderVal=e.slider("value")}),u(document).on("blur",".enp-slider-input__input",function(){var e,n;input=u(this),n=T(u(this).data("sliderID")),e=input.val(),n=n.slider("value"),parseInt(n)!==parseInt(e)&&(input.val(n),input.addClass("enp-slider-input__input--invalid-animation"),setTimeout(function(){input.removeClass("enp-slider-input__input--invalid-animation")},500))})});