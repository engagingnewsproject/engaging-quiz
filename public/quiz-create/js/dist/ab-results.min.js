jQuery(document).ready(function(l){var e=_.max(ab_results_json.quiz_a_scores),s=_.max(ab_results_json.quiz_b_scores),r=_.min(ab_results_json.quiz_a_scores),n=_.min(ab_results_json.quiz_b_scores);yScaleMax=e<=s?s:e,yScaleMin=r<=n?r:n;var a=yScaleMax-yScaleMin,i=Math.ceil(.1*a);yScaleMax+=i,yScaleMin-=i,yScaleMin<0&&(yScaleMin=0),chart=new Chartist.Line(".enp-quiz-score__line-chart",{labels:ab_results_json.ab_results_labels,series:[{value:ab_results_json.quiz_a_scores,className:ab_results_json.quiz_a_class},{value:ab_results_json.quiz_b_scores,className:ab_results_json.quiz_b_class}]},{high:yScaleMax,low:yScaleMin,fullWidth:!0,chartPadding:{right:38},lineSmooth:Chartist.Interpolation.cardinal({fillHoles:!0}),axisY:{onlyInteger:!0}}),l(".enp-results-question").each(function(){var e={header:l(".enp-results-question__header",this),content:l(".enp-results-question__content",this)};enp_accordion__setup(e)}),l(".enp-results-question--slider").each(function(){accordion={title:"Slider Response Data",content:l(".enp-slider-responses-table__content",this),baseID:l(this).attr("id")},accordion=enp_accordion__create_headers(accordion),enp_accordion__setup(accordion),l(".enp-slider-responses-table").addClass("enp-slider-responses-table--hide-zero"),l(".enp-slider-responses-table__response-frequency",this).append('<button class="enp-slider-responses-table__toggle-zero-frequency" type="button">Show All</button>'),sliderChartID=l(".enp-slider-responses__line-chart",this).attr("id"),sliderID=l(".enp-slider-responses__line-chart",this).attr("data-slider-id"),sliderJSON=slider_results_json[sliderID];var e=_.max(sliderJSON.slider_response_frequency),s=_.min(sliderJSON.slider_response_frequency),r=e-s,n=Math.ceil(.1*r);e+=n,(s-=n)<0&&(s=0);new Chartist.Line("#"+sliderChartID,{labels:sliderJSON.slider_response,series:[{value:sliderJSON.slider_response_low_frequency,className:"enp-slider-responses__line-chart--low"},{value:sliderJSON.slider_response_high_frequency,className:"enp-slider-responses__line-chart--high"},{value:sliderJSON.slider_response_correct_frequency,className:"enp-slider-responses__line-chart--correct"}]},{high:e,low:s,fullWidth:!0,chartPadding:{right:38},axisY:{onlyInteger:!0},axisX:{labelInterpolationFnc:function(e,s){return s%5==0?e:""}}})}),l(document).on("click",".enp-slider-responses-table__toggle-zero-frequency",function(){responseTable=l(this).parent().parent().parent().parent(),responseTable.hasClass("enp-slider-responses-table--show-zero")?(l(".enp-slider-responses-table__frequency--zero",responseTable).hide(),responseTable.removeClass("enp-slider-responses-table--show-zero"),responseTable.addClass("enp-slider-responses-table--hide-zero"),l(this).text("Show All")):(l(".enp-slider-responses-table__frequency--zero",responseTable).show(),responseTable.removeClass("enp-slider-responses-table--hide-zero"),responseTable.addClass("enp-slider-responses-table--show-zero"),l(this).text("Hide Zeros"))}),l(document).on("click",".enp-results-question--slider .enp-results-question__header.enp-accordion-header--closed",function(){sliderChartID=l(this).parent().find(".enp-slider-responses__line-chart").attr("id"),sliderChart=document.querySelector("#"+sliderChartID),sliderChart.__chartist__.update()})});